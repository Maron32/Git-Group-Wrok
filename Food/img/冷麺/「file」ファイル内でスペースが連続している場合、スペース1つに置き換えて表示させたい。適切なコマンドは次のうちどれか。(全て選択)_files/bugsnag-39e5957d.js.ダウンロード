import{g as st}from"./_commonjsHelpers-042e6b4d.js";var ut={exports:{}};(function(G,ce){(function(B){G.exports=B()})(function(){var B=["navigation","request","process","log","user","state","error","manual"],p=function(e,t,n){for(var r=n,a=0,o=e.length;a<o;a++)r=t(r,e[a],a,e);return r},R=function(e,t){return p(e,function(n,r,a,o){return t(r,a,o)?n.concat(r):n},[])},x=function(e,t){return p(e,function(n,r,a,o){return n===!0||r===t},!1)},S=function(e){return Object.prototype.toString.call(e)==="[object Array]"},A=!{toString:null}.propertyIsEnumerable("toString"),z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],w=function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);if(!A)return t;for(var r=0,a=z.length;r<a;r++)Object.prototype.hasOwnProperty.call(e,z[r])&&t.push(z[r]);return t},ee=function(e,t){return e===void 0&&(e=1),t===void 0&&(t=1/0),function(n){return typeof n=="number"&&parseInt(""+n,10)===n&&n>=e&&n<=t}},W=function(e){return typeof e=="function"||S(e)&&R(e,function(t){return typeof t=="function"}).length===e.length},V=function(e){return typeof e=="string"&&!!e.length},I={},y=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};I.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:V},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||V(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||V(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledErrorTypes:{defaultValue:function(){return y()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if(typeof e!="object"||!e)return!1;var t=w(e),n=w(y());return!(R(t,function(r){return x(n,r)}).length<t.length||R(w(e),function(r){return typeof e[r]!="boolean"}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:W},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:W},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:W},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&typeof e=="object"&&V(e.notify)&&V(e.sessions)&&R(w(e),function(t){return!x(["notify","sessions"],t)}).length===0}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return e===null||S(e)&&R(e,function(t){return typeof t=="string"}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return typeof e=="string"&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number â‰¤100",validate:function(e){return ee(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return B},message:"should be null or a list of available breadcrumb types ("+B.join(",")+")",validate:function(e){return e===null||S(e)&&p(e,function(t,n){return t===!1?t:x(B,n)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||typeof e=="string"}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return e===null||e&&p(w(e),function(t,n){return t&&x(["id","email","name"],n)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return typeof e=="object"&&e!==null}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&p(["debug","info","warn","error"],function(t,n){return t&&typeof e[n]=="function"},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return S(e)&&e.length===R(e,function(t){return typeof t=="string"||t&&typeof t.test=="function"}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return S(e)&&e.length===R(e,function(t){return t&&typeof t=="object"&&typeof t.load=="function"}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return S(e)&&e.length===R(e,function(t){return t&&typeof t=="object"&&typeof t.name=="string"}).length}}};var m=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(e,t){return p(e,function(n,r,a,o){return n.concat(t(r,a,o))},[])};function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var b=I.schema,C={releaseStage:m({},b.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:N({},b.appType,{defaultValue:function(){return"browser"}}),logger:m({},b.logger,{defaultValue:function(){return typeof console<"u"&&typeof console.debug=="function"?F():void 0}})},F=function(){var e={},t=console.log;return E(["debug","info","warn","error"],function(n){var r=console[n];e[n]=typeof r=="function"?r.bind(console,"[bugsnag]"):t.bind(console,"[bugsnag]")}),e},J=function(){function e(n,r,a,o){o===void 0&&(o=new Date),this.type=a,this.message=n,this.metadata=r,this.timestamp=o}var t=e.prototype;return t.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),M=J,te={};(function(e,t){typeof te=="object"?te=t():e.StackFrame=t()})(this,function(){function e(c){return!isNaN(parseFloat(c))&&isFinite(c)}function t(c){return c.charAt(0).toUpperCase()+c.substring(1)}function n(c){return function(){return this[c]}}var r=["isConstructor","isEval","isNative","isToplevel"],a=["columnNumber","lineNumber"],o=["fileName","functionName","source"],i=["args"],u=r.concat(a,o,i);function s(c){if(c instanceof Object)for(var h=0;h<u.length;h++)c.hasOwnProperty(u[h])&&c[u[h]]!==void 0&&this["set"+t(u[h])](c[u[h]])}s.prototype={getArgs:function(){return this.args},setArgs:function(c){if(Object.prototype.toString.call(c)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=c},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(c){if(c instanceof s)this.evalOrigin=c;else if(c instanceof Object)this.evalOrigin=new s(c);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var c=this.getFunctionName()||"{anonymous}",h="("+(this.getArgs()||[]).join(",")+")",v=this.getFileName()?"@"+this.getFileName():"",O=e(this.getLineNumber())?":"+this.getLineNumber():"",g=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return c+h+v+O+g}};for(var d=0;d<r.length;d++)s.prototype["get"+t(r[d])]=n(r[d]),s.prototype["set"+t(r[d])]=function(c){return function(h){this[c]=!!h}}(r[d]);for(var f=0;f<a.length;f++)s.prototype["get"+t(a[f])]=n(a[f]),s.prototype["set"+t(a[f])]=function(c){return function(h){if(!e(h))throw new TypeError(c+" must be a Number");this[c]=Number(h)}}(a[f]);for(var l=0;l<o.length;l++)s.prototype["get"+t(o[l])]=n(o[l]),s.prototype["set"+t(o[l])]=function(c){return function(h){this[c]=String(h)}}(o[l]);return s});var fe={};(function(e,t){typeof fe=="object"?fe=t(te):e.ErrorStackParser=t(e.StackFrame)})(this,function(t){var n=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,a=/^(eval@)?(\[native code\])?$/;return{parse:function(i){if(typeof i.stacktrace<"u"||typeof i["opera#sourceloc"]<"u")return this.parseOpera(i);if(i.stack&&i.stack.match(r))return this.parseV8OrIE(i);if(i.stack)return this.parseFFOrSafari(i);throw new Error("Cannot parse given Error object")},extractLocation:function(i){if(i.indexOf(":")===-1)return[i];var u=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,s=u.exec(i.replace(/[\(\)]/g,""));return[s[1],s[2]||void 0,s[3]||void 0]},parseV8OrIE:function(i){var u=i.stack.split(`
`).filter(function(s){return!!s.match(r)},this);return u.map(function(s){s.indexOf("(eval ")>-1&&(s=s.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var d=s.replace(/^\s+/,"").replace(/\(eval code/g,"("),f=d.match(/ (\((.+):(\d+):(\d+)\)$)/);d=f?d.replace(f[0],""):d;var l=d.split(/\s+/).slice(1),c=this.extractLocation(f?f[1]:l.pop()),h=l.join(" ")||void 0,v=["eval","<anonymous>"].indexOf(c[0])>-1?void 0:c[0];return new t({functionName:h,fileName:v,lineNumber:c[1],columnNumber:c[2],source:s})},this)},parseFFOrSafari:function(i){var u=i.stack.split(`
`).filter(function(s){return!s.match(a)},this);return u.map(function(s){if(s.indexOf(" > eval")>-1&&(s=s.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),s.indexOf("@")===-1&&s.indexOf(":")===-1)return new t({functionName:s});var d=/((.*".+"[^@]*)?[^@]*)(?:@)/,f=s.match(d),l=f&&f[1]?f[1]:void 0,c=this.extractLocation(s.replace(d,""));return new t({functionName:l,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:s})},this)},parseOpera:function(i){return!i.stacktrace||i.message.indexOf(`
`)>-1&&i.message.split(`
`).length>i.stacktrace.split(`
`).length?this.parseOpera9(i):i.stack?this.parseOpera11(i):this.parseOpera10(i)},parseOpera9:function(i){for(var u=/Line (\d+).*script (?:in )?(\S+)/i,s=i.message.split(`
`),d=[],f=2,l=s.length;f<l;f+=2){var c=u.exec(s[f]);c&&d.push(new t({fileName:c[2],lineNumber:c[1],source:s[f]}))}return d},parseOpera10:function(i){for(var u=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=i.stacktrace.split(`
`),d=[],f=0,l=s.length;f<l;f+=2){var c=u.exec(s[f]);c&&d.push(new t({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:s[f]}))}return d},parseOpera11:function(i){var u=i.stack.split(`
`).filter(function(s){return!!s.match(n)&&!s.match(/^Error created at/)},this);return u.map(function(s){var d=s.split("@"),f=this.extractLocation(d.pop()),l=d.shift()||"",c=l.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,h;l.match(/\(([^\)]*)\)/)&&(h=l.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var v=h===void 0||h==="[arguments not available]"?void 0:h.split(",");return new t({functionName:c,args:v,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:s})},this)}}});var Te=fe,re=function(e,t,n,r){var a=r&&r.redactedKeys?r.redactedKeys:[],o=r&&r.redactedPaths?r.redactedPaths:[];return JSON.stringify(yt(e,a,o),t,n)},ft=20,dt=25e3,lt=8,ne="...";function gt(e){return e instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(e))}function Re(e){return"[Throws: "+(e?e.message:"?")+"]"}function pt(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}function ht(e,t){for(var n=0,r=e.length;n<r;n++)if(t.indexOf(e[n])===0)return!0;return!1}function _t(e,t){for(var n=0,r=e.length;n<r;n++)if(typeof e[n]=="string"&&e[n].toLowerCase()===t.toLowerCase()||e[n]&&typeof e[n].test=="function"&&e[n].test(t))return!0;return!1}function vt(e){return Object.prototype.toString.call(e)==="[object Array]"}function mt(e,t){try{return e[t]}catch(n){return Re(n)}}function yt(e,t,n){var r=[],a=0;function o(i,u){function s(){return u.length>lt&&a>dt}if(a++,u.length>ft||s())return ne;if(i===null||typeof i!="object")return i;if(pt(r,i))return"[Circular]";if(r.push(i),typeof i.toJSON=="function")try{a--;var d=o(i.toJSON(),u);return r.pop(),d}catch(_){return Re(_)}var f=gt(i);if(f){a--;var l=o({name:i.name,message:i.message},u);return r.pop(),l}if(vt(i)){for(var c=[],h=0,v=i.length;h<v;h++){if(s()){c.push(ne);break}c.push(o(i[h],u.concat("[]")))}return r.pop(),c}var O={};try{for(var g in i)if(Object.prototype.hasOwnProperty.call(i,g)){if(ht(n,u.join("."))&&_t(t,g)){O[g]="[REDACTED]";continue}if(s()){O[g]=ne;break}O[g]=o(mt(i,g),u.concat(g))}}catch{}return r.pop(),O}return o(e,[])}function Ae(e,t,n,r){if(typeof n=="string"){r===void 0?r=null:r!==null&&typeof r!="string"&&(r=re(r));var a=t[n];if(typeof a=="number"){e[a]={name:n,variant:r};return}e.push({name:n,variant:r}),t[n]=e.length-1}}function Et(e,t,n){if(S(t)){for(var r=0;r<t.length;++r){var a=t[r];a===null||typeof a!="object"||Ae(e,n,a.name,a.variant)}return e}}function bt(e){return E(R(e,Boolean),function(t){var n=t.name,r=t.variant,a={featureFlag:n};return typeof r=="string"&&(a.variant=r),a})}function St(e,t,n){var r=t[n];typeof r=="number"&&(e[r]=null,delete t[n])}var U={add:Ae,clear:St,merge:Et,toEventApi:bt},ae=function(e){return!!e&&(!!e.stack||!!e.stacktrace||!!e["opera#sourceloc"])&&typeof(e.stack||e.stacktrace||e["opera#sourceloc"])=="string"&&e.stack!==e.name+": "+e.message},Ot=Nt;function Nt(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}var oe=Ot,Tt=function(e,t,n,r){var a;if(t){var o;if(n===null)return Ce(e,t);typeof n=="object"&&(o=n),typeof n=="string"&&(o=(a={},a[n]=r,a)),o&&(e[t]||(e[t]={}),e[t]=m({},e[t],o))}},Rt=function(e,t,n){if(typeof t=="string"){if(!n)return e[t];if(e[t])return e[t][n]}},Ce=function(e,t,n){if(typeof t=="string"){if(!n){delete e[t];return}e[t]&&delete e[t][n]}},q={add:Tt,get:Rt,clear:Ce},de={};(function(e,t){typeof de=="object"?de=t(te):e.StackGenerator=t(e.StackFrame)})(this,function(e){return{backtrace:function(n){var r=[],a=10;typeof n=="object"&&typeof n.maxStackSize=="number"&&(a=n.maxStackSize);for(var o=arguments.callee;o&&r.length<a&&o.arguments;){for(var i=new Array(o.arguments.length),u=0;u<i.length;++u)i[u]=o.arguments[u];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?r.push(new e({functionName:RegExp.$1||void 0,args:i})):r.push(new e({args:i}));try{o=o.caller}catch{break}}return r}}});var H=function(){function e(n,r,a,o,i){a===void 0&&(a=[]),o===void 0&&(o=Dt()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=i,this._handledState=o,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this.errors=[$e(n,r,e.__type,a)]}var t=e.prototype;return t.addMetadata=function(r,a,o){return q.add(this._metadata,r,a,o)},t.getMetadata=function(r,a){return q.get(this._metadata,r,a)},t.clearMetadata=function(r,a){return q.clear(this._metadata,r,a)},t.addFeatureFlag=function(r,a){a===void 0&&(a=null),U.add(this._features,this._featuresIndex,r,a)},t.addFeatureFlags=function(r){U.merge(this._features,r,this._featuresIndex)},t.getFeatureFlags=function(){return U.toEventApi(this._features)},t.clearFeatureFlag=function(r){U.clear(this._features,this._featuresIndex,r)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getUser=function(){return this._user},t.setUser=function(r,a,o){this._user={id:r,email:a,name:o}},t.toJSON=function(){return{payloadVersion:"4",exceptions:E(this.errors,function(r){return m({},r,{message:r.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags()}},e}(),At=function(e){var t={file:e.fileName,method:Ct(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return t.lineNumber>-1&&!t.file&&!t.method&&(t.file="global code"),t},Ct=function(e){return/^global code$/i.test(e)?"global code":e},Dt=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},De=function(e){return typeof e=="string"?e:""};function $e(e,t,n,r){return{errorClass:De(e),errorMessage:De(t),type:n,stacktrace:p(r,function(a,o){var i=At(o);try{return JSON.stringify(i)==="{}"?a:a.concat(i)}catch{return a}},[])}}function we(e){return e.cause?[e].concat(we(e.cause)):[e]}H.getStacktrace=function(e,t,n){if(ae(e))return Te.parse(e).slice(t);try{return R(de.backtrace(),function(r){return(r.functionName||"").indexOf("StackGenerator$$")===-1}).slice(1+n)}catch{return[]}},H.create=function(e,t,n,r,a,o){a===void 0&&(a=0);var i=Pe(e,t,r,o),u=i[0],s=i[1],d;try{var f=H.getStacktrace(u,s>0?1+s+a:0,1+a);d=new H(u.name,u.message,f,n,e)}catch{d=new H(u.name,u.message,[],n,e)}if(u.name==="InvalidError"&&d.addMetadata(""+r,"non-error parameter",xe(e)),u.cause){var l,c=we(u).slice(1),h=E(c,function(v){var O=oe(v)&&ae(v)?Te.parse(v):[],g=Pe(v,!0,"error cause"),_=g[0];return _.name==="InvalidError"&&d.addMetadata("error cause",xe(v)),$e(_.name,_.message,H.__type,O)});(l=d.errors).push.apply(l,h)}return d};var xe=function(e){return e===null?"null":e===void 0?"undefined":e},Pe=function(e,t,n,r){var a,o=0,i=function(u){var s=n==="error cause"?"was":"received";r&&r.warn(n+" "+s+' a non-error: "'+u+'"');var d=new Error(n+" "+s+' a non-error. See "'+n+'" tab for more detail.');return d.name="InvalidError",d};if(!t)oe(e)?a=e:(a=i(typeof e),o+=2);else switch(typeof e){case"string":case"number":case"boolean":a=new Error(String(e)),o+=1;break;case"function":a=i("function"),o+=2;break;case"object":e!==null&&oe(e)?a=e:e!==null&&$t(e)?(a=new Error(e.message||e.errorMessage),a.name=e.name||e.errorClass,o+=1):(a=i(e===null?"null":"unsupported object"),o+=2);break;default:a=i("nothing"),o+=2}if(!ae(a))try{throw a}catch(u){ae(u)&&(a=u,o=1)}return[a,o]};H.__type="browserjs";var $t=function(e){return(typeof e.name=="string"||typeof e.errorClass=="string")&&(typeof e.message=="string"||typeof e.errorMessage=="string")},le=H,wt=function(e,t,n){var r=0,a=function(){if(r>=e.length)return n(null,!0);t(e[r],function(o,i){if(o)return n(o);if(i===!1)return n(null,!1);r++,a()})};a()},xt=function(e,t,n,r){var a=function(o,i){if(typeof o!="function")return i(null);try{if(o.length!==2){var u=o(t);return u&&typeof u.then=="function"?u.then(function(s){return setTimeout(function(){return i(null,s)})},function(s){setTimeout(function(){return n(s),i(null,!0)})}):i(null,u)}o(t,function(s,d){if(s)return n(s),i(null);i(null,d)})}catch(s){n(s),i(null)}};wt(e,a,r)},Le=function(e,t,n,r){for(var a=!1,o=e.slice();!a&&o.length;)try{a=o.pop()(t)===!1}catch(i){r.error("Error occurred in "+n+" callback, continuing anywayâ€¦"),r.error(i)}return a},ge=function(t,n){var r="000000000"+t;return r.substr(r.length-n)},Be=typeof window=="object"?window:self,Ie=0;for(var Pt in Be)Object.hasOwnProperty.call(Be,Pt)&&Ie++;var Lt=navigator.mimeTypes?navigator.mimeTypes.length:0,Bt=ge((Lt+navigator.userAgent.length).toString(36)+Ie.toString(36),4),Me=function(){return Bt},Y=0,pe=4,ie=36,Fe=Math.pow(ie,pe);function He(){return ge((Math.random()*Fe<<0).toString(ie),pe)}function It(){return Y=Y<Fe?Y:0,Y++,Y-1}function ke(){var e="c",t=new Date().getTime().toString(ie),n=ge(It().toString(ie),pe),r=Me(),a=He()+He();return e+t+n+r+a}ke.fingerprint=Me;var Mt=ke,Ft=function(){function e(){this.id=Mt(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var t=e.prototype;return t.getUser=function(){return this._user},t.setUser=function(r,a,o){this._user={id:r,email:a,name:o}},t.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},t._track=function(r){this[r._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),he=Ft,Ht=U.add,kt=U.clear,_e=U.merge,k=function(){},Vt=function(){function e(n,r,a,o){var i=this;r===void 0&&(r=I.schema),a===void 0&&(a=[]),this._notifier=o,this._config={},this._schema=r,this._delivery={sendSession:k,sendEvent:k},this._logger={debug:k,info:k,warn:k,error:k},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=le,this.Breadcrumb=M,this.Session=he,this._config=this._configure(n,a),E(a.concat(this._config.plugins),function(d){d&&i._loadPlugin(d)}),this._depth=1;var u=this,s=this.notify;this.notify=function(){return s.apply(u,arguments)}}var t=e.prototype;return t.addMetadata=function(r,a,o){return q.add(this._metadata,r,a,o)},t.getMetadata=function(r,a){return q.get(this._metadata,r,a)},t.clearMetadata=function(r,a){return q.clear(this._metadata,r,a)},t.addFeatureFlag=function(r,a){a===void 0&&(a=null),Ht(this._features,this._featuresIndex,r,a)},t.addFeatureFlags=function(r){_e(this._features,r,this._featuresIndex)},t.clearFeatureFlag=function(r){kt(this._features,this._featuresIndex,r)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getContext=function(){return this._context},t.setContext=function(r){this._context=r},t._configure=function(r,a){var o=p(a,function(d,f){return f&&f.configSchema?m({},d,f.configSchema):d},this._schema),i=p(w(o),function(d,f){var l=o[f].defaultValue(r[f]);if(r[f]!==void 0){var c=o[f].validate(r[f]);c?o[f].allowPartialObject?d.config[f]=m(l,r[f]):d.config[f]=r[f]:(d.errors[f]=o[f].message,d.config[f]=l)}else d.config[f]=l;return d},{errors:{},config:{}}),u=i.errors,s=i.config;if(o.apiKey){if(!s.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(s.apiKey)||(u.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=m({},s.metadata),_e(this._features,s.featureFlags,this._featuresIndex),this._user=m({},s.user),this._context=s.context,s.logger&&(this._logger=s.logger),s.onError&&(this._cbs.e=this._cbs.e.concat(s.onError)),s.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(s.onBreadcrumb)),s.onSession&&(this._cbs.s=this._cbs.s.concat(s.onSession)),w(u).length&&this._logger.warn(Ut(u,r)),s},t.getUser=function(){return this._user},t.setUser=function(r,a,o){this._user={id:r,email:a,name:o}},t._loadPlugin=function(r){var a=r.load(this);return r.name&&(this._plugins["~"+r.name+"~"]=a),this},t.getPlugin=function(r){return this._plugins["~"+r+"~"]},t._setDelivery=function(r){this._delivery=r(this)},t.startSession=function(){var r=new he;r.app.releaseStage=this._config.releaseStage,r.app.version=this._config.appVersion,r.app.type=this._config.appType,r._user=m({},this._user);var a=Le(this._cbs.s,r,"onSession",this._logger);return a?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,r)},t.addOnError=function(r,a){a===void 0&&(a=!1),this._cbs.e[a?"unshift":"push"](r)},t.removeOnError=function(r){this._cbs.e=R(this._cbs.e,function(a){return a!==r})},t._addOnSessionPayload=function(r){this._cbs.sp.push(r)},t.addOnSession=function(r){this._cbs.s.push(r)},t.removeOnSession=function(r){this._cbs.s=R(this._cbs.s,function(a){return a!==r})},t.addOnBreadcrumb=function(r,a){a===void 0&&(a=!1),this._cbs.b[a?"unshift":"push"](r)},t.removeOnBreadcrumb=function(r){this._cbs.b=R(this._cbs.b,function(a){return a!==r})},t.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},t.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},t.leaveBreadcrumb=function(r,a,o){if(r=typeof r=="string"?r:"",o=typeof o=="string"&&x(B,o)?o:"manual",a=typeof a=="object"&&a!==null?a:{},!!r){var i=new M(r,a,o),u=Le(this._cbs.b,i,"onBreadcrumb",this._logger);if(u){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(i),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},t._isBreadcrumbTypeEnabled=function(r){var a=this._config.enabledBreadcrumbTypes;return a===null||x(a,r)},t.notify=function(r,a,o){o===void 0&&(o=k);var i=le.create(r,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(i,a,o)},t._notify=function(r,a,o){var i=this;if(o===void 0&&(o=k),r.app=m({},r.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),r.context=r.context||this._context,r._metadata=m({},r._metadata,this._metadata),r._user=m({},r._user,this._user),r.breadcrumbs=this._breadcrumbs.slice(),_e(r._features,this._features,r._featuresIndex),this._config.enabledReleaseStages!==null&&!x(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),o(null,r);var u=r.severity,s=function(f){i._logger.error("Error occurred in onError callback, continuing anywayâ€¦"),i._logger.error(f)},d=[].concat(this._cbs.e).concat(a);xt(d,r,s,function(f,l){if(f&&s(f),!l)return i._logger.debug("Event not sent due to onError callback"),o(null,r);i._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(i,r.errors[0].errorClass,{errorClass:r.errors[0].errorClass,errorMessage:r.errors[0].errorMessage,severity:r.severity},"error"),u!==r.severity&&(r._handledState.severityReason={type:"userCallbackSetSeverity"}),r.unhandled!==r._handledState.unhandled&&(r._handledState.severityReason.unhandledOverridden=!0,r._handledState.unhandled=r.unhandled),i._session&&(i._session._track(r),r._session=i._session),i._delivery.sendEvent({apiKey:r.apiKey||i._config.apiKey,notifier:i._notifier,events:[r]},function(c){return o(c,r)})})},e}(),Ut=function(e,t){var n=new Error(`Invalid configuration
`+E(w(e),function(r){return"  - "+r+" "+e[r]+", got "+jt(t[r])}).join(`

`));return n},jt=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},ve=Vt,K={},Ve=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];K.event=function(e,t){var n=re(e,null,null,{redactedPaths:Ve,redactedKeys:t});return n.length>1e6&&(e.events[0]._metadata={notifier:`WARNING!
Serialized payload was `+n.length/1e6+`MB (limit = 1MB)
metadata was removed`},n=re(e,null,null,{redactedPaths:Ve,redactedKeys:t})),n},K.session=function(e,t){var n=re(e,null,null);return n};var me={};me=function(e,t){return t===void 0&&(t=window),{sendEvent:function(n,r){r===void 0&&(r=function(){});var a=Ue(e._config,"notify","4",t),o=K.event(n,e._config.redactedKeys),i=new t.XDomainRequest;i.onload=function(){r(null)},i.onerror=function(){var u=new Error("Event failed to send");e._logger.error("Event failed to sendâ€¦",u),o.length>1e6&&e._logger.warn("Event oversized ("+(o.length/1e6).toFixed(2)+" MB)"),r(u)},i.open("POST",a),setTimeout(function(){try{i.send(o)}catch(u){e._logger.error(u),r(u)}},0)},sendSession:function(n,r){r===void 0&&(r=function(){});var a=Ue(e._config,"sessions","1",t),o=new t.XDomainRequest;o.onload=function(){r(null)},o.open("POST",a),setTimeout(function(){try{o.send(K.session(n,e._config.redactedKeys))}catch(i){e._logger.error(i),r(i)}},0)}}};var Ue=function(e,t,n,r){var a=JSON.parse(JSON.stringify(new Date)),o=qt(e.endpoints[t],r.location.protocol);return o+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(a)},qt=me._matchPageProtocol=function(e,t){return t==="http:"?e.replace(/^https:/,"http:"):e},Kt=function(e,t){return t===void 0&&(t=window),{sendEvent:function(n,r){r===void 0&&(r=function(){});try{var a=e._config.endpoints.notify,o=new t.XMLHttpRequest,i=K.event(n,e._config.redactedKeys);o.onreadystatechange=function(){if(o.readyState===t.XMLHttpRequest.DONE){var u=o.status;if(u===0||u>=400){var s=new Error("Request failed with status "+u);e._logger.error("Event failed to sendâ€¦",s),i.length>1e6&&e._logger.warn("Event oversized ("+(i.length/1e6).toFixed(2)+" MB)"),r(s)}else r(null)}},o.open("POST",a),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",n.apiKey||e._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","4"),o.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),o.send(i)}catch(u){e._logger.error(u)}},sendSession:function(n,r){r===void 0&&(r=function(){});try{var a=e._config.endpoints.sessions,o=new t.XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===t.XMLHttpRequest.DONE){var i=o.status;if(i===0||i>=400){var u=new Error("Request failed with status "+i);e._logger.error("Session failed to sendâ€¦",u),r(u)}else r(null)}},o.open("POST",a),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","1"),o.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),o.send(K.session(n,e._config.redactedKeys))}catch(i){e._logger.error(i)}}}},je=new Date,Xt=function(){je=new Date},Gt={name:"appDuration",load:function(e){return e.addOnError(function(t){var n=new Date;t.app.duration=n-je},!0),{reset:Xt}}},zt=function(e){return e===void 0&&(e=window),{load:function(t){t.addOnError(function(n){n.context===void 0&&(n.context=e.location.pathname)},!0)}}},ye=function(t,n){var r="000000000"+t;return r.substr(r.length-n)},qe=typeof window=="object"?window:self,Ke=0;for(var Wt in qe)Object.hasOwnProperty.call(qe,Wt)&&Ke++;var Jt=navigator.mimeTypes?navigator.mimeTypes.length:0,Yt=ye((Jt+navigator.userAgent.length).toString(36)+Ke.toString(36),4),Xe=function(){return Yt},Q=0,Ee=4,se=36,Ge=Math.pow(se,Ee);function ze(){return ye((Math.random()*Ge<<0).toString(se),Ee)}function Qt(){return Q=Q<Ge?Q:0,Q++,Q-1}function We(){var e="c",t=new Date().getTime().toString(se),n=ye(Qt().toString(se),Ee),r=Xe(),a=ze()+ze();return e+t+n+r+a}We.fingerprint=Xe;var Zt=We,Je="bugsnag-anonymous-id",er=function(e){try{var t=e.localStorage,n=t.getItem(Je);return n&&/^c[a-z0-9]{20,32}$/.test(n)||(n=Zt(),t.setItem(Je,n)),n}catch{}},tr=function(e,t){return e===void 0&&(e=navigator),t===void 0&&(t=window),{load:function(n){var r={locale:e.browserLanguage||e.systemLanguage||e.userLanguage||e.language,userAgent:e.userAgent};t&&t.screen&&t.screen.orientation&&t.screen.orientation.type?r.orientation=t.screen.orientation.type:t&&t.document&&(r.orientation=t.document.documentElement.clientWidth>t.document.documentElement.clientHeight?"landscape":"portrait"),n._config.generateAnonymousId&&(r.id=er(t)),n.addOnSession(function(a){a.device=m({},a.device,r),n._config.collectUserIp||Ye(a)}),n.addOnError(function(a){a.device=m({},a.device,r,{time:new Date}),n._config.collectUserIp||Ye(a)},!0)},configSchema:{generateAnonymousId:{validate:function(n){return n===!0||n===!1},defaultValue:function(){return!0},message:"should be true|false"}}}},Ye=function(e){var t=e.getUser();(!t||!t.id)&&e.setUser(e.device.id)},rr=function(e){return e===void 0&&(e=window),{load:function(t){t.addOnError(function(n){n.request&&n.request.url||(n.request=m({},n.request,{url:e.location.href}))},!0)}}},nr={load:function(e){e._sessionDelegate=ar}},ar={startSession:function(e,t){var n=e;return n._session=t,n._pausedSession=null,n._config.enabledReleaseStages!==null&&!x(n._config.enabledReleaseStages,n._config.releaseStage)?(n._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),n):(n._delivery.sendSession({notifier:n._notifier,device:t.device,app:t.app,sessions:[{id:t.id,startedAt:t.startedAt,user:t._user}]}),n)},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},or={load:function(e){e._config.collectUserIp||e.addOnError(function(t){t._user&&typeof t._user.id>"u"&&delete t._user.id,t._user=m({id:"[REDACTED]"},t._user),t.request=m({clientIp:"[REDACTED]"},t.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}}}},Qe={};Qe.load=function(e){var t=/^(local-)?dev(elopment)?$/.test(e._config.releaseStage);t||!e._isBreadcrumbTypeEnabled("log")||E(ir,function(n){var r=console[n];console[n]=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];e.leaveBreadcrumb("Console output",p(o,function(u,s,d){var f="[Unknown value]";try{f=String(s)}catch{}if(f==="[object Object]")try{f=JSON.stringify(s)}catch{}return u["["+d+"]"]=f,u},{severity:n.indexOf("group")===0?"log":n}),"log"),r.apply(console,o)},console[n]._restore=function(){console[n]=r}})};var ir=R(["log","debug","info","warn","error"],function(e){return typeof console<"u"&&typeof console[e]=="function"}),Ze=200,et=5e5,sr=function(e,t){return e===void 0&&(e=document),t===void 0&&(t=window),{load:function(n){if(!n._config.trackInlineScripts)return;var r=t.location.href,a="",o=!!e.attachEvent,i=o?e.readyState==="complete":e.readyState!=="loading",u=function(){return e.documentElement.outerHTML};a=u();var s=e.onreadystatechange;e.onreadystatechange=function(){e.readyState==="interactive"&&(a=u(),i=!0);try{s.apply(this,arguments)}catch{}};var d=null,f=function(g){d=g},l=function(){var g=e.currentScript||d;if(!g&&!i){var _=e.scripts||e.getElementsByTagName("script");g=_[_.length-1]}return g},c=function(g){(!i||!a)&&(a=u());var _=["<!-- DOC START -->"].concat(a.split(`
`)),D=g-1,T=Math.max(D-3,0),P=Math.min(D+3,_.length);return p(_.slice(T,P),function(L,Z,Ne){return L[T+1+Ne]=Z.length<=Ze?Z:Z.substr(0,Ze),L},{})};n.addOnError(function(g){g.errors[0].stacktrace=R(g.errors[0].stacktrace,function(P){return!/__trace__$/.test(P.method)});var _=g.errors[0].stacktrace[0];if(!(_&&_.file&&_.file.replace(/#.*$/,"")!==r.replace(/#.*$/,""))){var D=l();if(D){var T=D.innerHTML;g.addMetadata("script","content",T.length<=et?T:T.substr(0,et)),_&&_.lineNumber&&(_.code=c(_.lineNumber))}}},!0);var h=E(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(g){return be(t,g,function(_){return O(_,function(D){return{get:function(){return D[0]},replace:function(T){D[0]=T}}})})}),v=h[0];E(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(g){!t[g]||!t[g].prototype||!Object.prototype.hasOwnProperty.call(t[g].prototype,"addEventListener")||(be(t[g].prototype,"addEventListener",function(_){return O(_,tt)}),be(t[g].prototype,"removeEventListener",function(_){return O(_,tt,!0)}))});function O(g,_,D){return D===void 0&&(D=!1),function(){var T=[].slice.call(arguments);try{var P=_(T),L=P.get();if(D&&g.apply(this,T),typeof L!="function")return g.apply(this,T);if(L.__trace__)P.replace(L.__trace__);else{var Z=l();L.__trace__=function(){f(Z),v(function(){f(null)},0);var Or=L.apply(this,arguments);return f(null),Or},L.__trace__.__trace__=L.__trace__,P.replace(L.__trace__)}}catch{}if(g.apply)return g.apply(this,T);switch(T.length){case 1:return g(T[0]);case 2:return g(T[0],T[1]);default:return g()}}}},configSchema:{trackInlineScripts:{validate:function(n){return n===!0||n===!1},defaultValue:function(){return!0},message:"should be true|false"}}}};function be(e,t,n){var r=e[t];if(!r)return r;var a=n(r);return e[t]=a,r}function tt(e){var t=!!e[1]&&typeof e[1].handleEvent=="function";return{get:function(){return t?e[1].handleEvent:e[1]},replace:function(n){t?e[1].handleEvent=n:e[1]=n}}}var ur=function(e){return e===void 0&&(e=window),{load:function(t){"addEventListener"in e&&t._isBreadcrumbTypeEnabled("user")&&e.addEventListener("click",function(n){var r,a;try{r=dr(n.target),a=rt(n.target,e)}catch{r="[hidden]",a="[hidden]",t._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}t.leaveBreadcrumb("UI click",{targetText:r,targetSelector:a},"user")},!0)}}},cr=/^\s+/,fr=/(^|[^\s])\s+$/;function dr(e){var t=e.textContent||e.innerText||"";return!t&&(e.type==="submit"||e.type==="button")&&(t=e.value),t=t.replace(cr,"").replace(fr,"$1"),t.length>140?t.slice(0,135)+"(...)":t}function rt(e,t){var n=[e.tagName];if(e.id&&n.push("#"+e.id),e.className&&e.className.length&&n.push("."+e.className.split(" ").join(".")),!t.document.querySelectorAll||!Array.prototype.indexOf)return n.join("");try{if(t.document.querySelectorAll(n.join("")).length===1)return n.join("")}catch{return n.join("")}if(e.parentNode.childNodes.length>1){var r=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;n.push(":nth-child("+r+")")}return t.document.querySelectorAll(n.join("")).length===1?n.join(""):e.parentNode?rt(e.parentNode,t)+" > "+n.join(""):n.join("")}var nt={};nt=function(e){e===void 0&&(e=window);var t={load:function(n){if("addEventListener"in e&&n._isBreadcrumbTypeEnabled("navigation")){var r=function(a){return function(){return n.leaveBreadcrumb(a,{},"navigation")}};e.addEventListener("pagehide",r("Page hidden"),!0),e.addEventListener("pageshow",r("Page shown"),!0),e.addEventListener("load",r("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",r("DOMContentLoaded"),!0),e.addEventListener("load",function(){return e.addEventListener("popstate",r("Navigated back"),!0)}),e.addEventListener("hashchange",function(a){var o=a.oldURL?{from:ue(a.oldURL,e),to:ue(a.newURL,e),state:ot(e)}:{to:ue(e.location.href,e)};n.leaveBreadcrumb("Hash changed",o,"navigation")},!0),e.history.replaceState&&at(n,e.history,"replaceState",e),e.history.pushState&&at(n,e.history,"pushState",e)}}};return t};var ue=function(e,t){var n=t.document.createElement("A");return n.href=e,""+n.pathname+n.search+n.hash},lr=function(e,t,n,r){var a=ue(e.location.href,e);return{title:n,state:t,prevState:ot(e),to:r||a,from:a}},at=function(e,t,n,r){var a=t[n];t[n]=function(o,i,u){e.leaveBreadcrumb("History "+n,lr(r,o,i,u),"navigation"),typeof e.resetEventCount=="function"&&e.resetEventCount(),e._config.autoTrackSessions&&e.startSession(),a.apply(t,[o,i].concat(u!==void 0?u:[]))}},ot=function(e){try{return e.history.state}catch{}},X="request",gr=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=window);var n={load:function(r){if(!r._isBreadcrumbTypeEnabled("request"))return;var a=[r._config.endpoints.notify,r._config.endpoints.sessions].concat(e);o(),s();function o(){if("addEventListener"in t.XMLHttpRequest.prototype){var l=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(h,v){var O=this,g=!1,_=function(){return u(h,v)},D=function(){return i(h,v,O.status)};g&&(this.removeEventListener("load",D),this.removeEventListener("error",_)),this.addEventListener("load",D),this.addEventListener("error",_),g=!0,l.apply(this,arguments)}}}function i(l,c,h){if(c===void 0){r._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!(typeof c=="string"&&x(a,c.replace(/\?.*$/,"")))){var v={status:h,request:l+" "+c};h>=400?r.leaveBreadcrumb("XMLHttpRequest failed",v,X):r.leaveBreadcrumb("XMLHttpRequest succeeded",v,X)}}function u(l,c){if(c===void 0){r._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}typeof c=="string"&&x(a,c.replace(/\?.*$/,""))||r.leaveBreadcrumb("XMLHttpRequest error",{request:l+" "+c},X)}function s(){if(!(!("fetch"in t)||t.fetch.polyfill)){var l=t.fetch;t.fetch=function(){var h=arguments,v=arguments[0],O=arguments[1],g,_=null;return v&&typeof v=="object"?(_=v.url,O&&"method"in O?g=O.method:v&&"method"in v&&(g=v.method)):(_=v,O&&"method"in O&&(g=O.method)),g===void 0&&(g="GET"),new Promise(function(D,T){l.apply(void 0,h).then(function(P){d(P,g,_),D(P)}).catch(function(P){f(g,_),T(P)})})}}}var d=function(l,c,h){var v={status:l.status,request:c+" "+h};l.status>=400?r.leaveBreadcrumb("fetch() failed",v,X):r.leaveBreadcrumb("fetch() succeeded",v,X)},f=function(l,c){r.leaveBreadcrumb("fetch() error",{request:l+" "+c},X)}}};return n},pr={load:function(e){var t=0;e.addOnError(function(n){if(t>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;t++}),e.resetEventCount=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer â‰¤100",validate:function(e){return ee(1,100)(e)}}}},Se={};Se={load:function(e){e.addOnError(function(t){var n=p(t.errors,function(r,a){return r.concat(a.stacktrace)},[]);E(n,function(r){r.file=hr(r.file)})})}};var hr=Se._strip=function(e){return typeof e=="string"?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},_r=function(e,t){return e===void 0&&(e=window),t===void 0&&(t="window onerror"),{load:function(n){if(!n._config.autoDetectErrors||!n._config.enabledErrorTypes.unhandledExceptions)return;function r(o,i,u,s,d){if(u===0&&/Script error\.?/.test(o))n._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var f={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},l;if(d)l=n.Event.create(d,!0,f,t,1),it(l.errors[0].stacktrace,i,u,s);else if(typeof o=="object"&&o!==null&&(!i||typeof i!="string")&&!u&&!s&&!d){var c=o.type?"Event: "+o.type:"Error",h=o.message||o.detail||"";l=n.Event.create({name:c,message:h},!0,f,t,1),l.originalError=o,l.addMetadata(t,{event:o,extraParameters:i})}else l=n.Event.create(o,!0,f,t,1),it(l.errors[0].stacktrace,i,u,s);n._notify(l)}typeof a=="function"&&a.apply(this,arguments)}var a=e.onerror;e.onerror=r}}},it=function(e,t,n,r){e[0]||e.push({});var a=e[0];!a.file&&typeof t=="string"&&(a.file=t),!a.lineNumber&&Oe(n)&&(a.lineNumber=n),a.columnNumber||(Oe(r)?a.columnNumber=r:window.event&&Oe(window.event.errorCharacter)&&(a.columnNumber=window.event.errorCharacter))},Oe=function(e){return typeof e=="number"&&String.call(e)!=="NaN"},vr=function(e){e===void 0&&(e=window);var t={load:function(n){if(!(!n._config.autoDetectErrors||!n._config.enabledErrorTypes.unhandledRejections)){var r=function(a){var o=a.reason,i=!1;try{a.detail&&a.detail.reason&&(o=a.detail.reason,i=!0)}catch{}var u=n.Event.create(o,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,n._logger);i&&E(u.errors[0].stacktrace,mr(o)),n._notify(u,function(s){if(oe(s.originalError)&&!s.originalError.stack){var d;s.addMetadata("unhandledRejection handler",(d={},d[Object.prototype.toString.call(s.originalError)]={name:s.originalError.name,message:s.originalError.message,code:s.originalError.code},d))}})};"addEventListener"in e?e.addEventListener("unhandledrejection",r):e.onunhandledrejection=function(a,o){r({detail:{reason:a,promise:o}})}}}};return t},mr=function(e){return function(t){t.file!==e.toString()&&t.method&&(t.method=t.method.replace(/^\s+/,""))}},j={},yr="Bugsnag JavaScript",Er="7.20.0",br="https://github.com/bugsnag/bugsnag-js",Sr=m({},I.schema,C),$={_client:null,createClient:function(e){typeof e=="string"&&(e={apiKey:e}),e||(e={});var t=[Gt,tr(),zt(),rr(),pr,nr,or,Se,_r(),vr(),nt(),ur(),gr(),Qe,sr()],n=new ve(e,Sr,t,{name:yr,version:Er,url:br});return n._setDelivery(window.XDomainRequest?me:Kt),n._logger.debug("Loaded!"),n.leaveBreadcrumb("Bugsnag loaded",{},"state"),n._config.autoTrackSessions?n.startSession():n},start:function(e){return $._client?($._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),$._client):($._client=$.createClient(e),$._client)},isStarted:function(){return $._client!=null}};return E(["resetEventCount"].concat(w(ve.prototype)),function(e){/^_/.test(e)||($[e]=function(){if(!$._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");$._client._depth+=1;var t=$._client[e].apply($._client,arguments);return $._client._depth-=1,t})}),j=$,j.Client=ve,j.Event=le,j.Session=he,j.Breadcrumb=M,j.default=$,j})})(ut);var Nr=ut.exports,Tr=Nr;const Rr=st(Tr);var ct={exports:{}};(function(G,ce){(function(B){G.exports=B()})(function(){var B=this,p,R=function(y,m){var E=y.config.errorHandler,N=function(b,C,F){var J={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},M=m.Event.create(b,!0,J,"vue error handler",1);M.addMetadata("vue",{errorInfo:z[F]||F,component:C?x(C):void 0,props:C&&C.$options?C.$options.propsData:void 0}),m._notify(M),typeof console<"u"&&typeof console.error=="function"&&console.error(b),typeof E=="function"&&E.call(B,b,C,F)};y.config.errorHandler=N};function x(y){return y.$parent===null?"App":y.$options&&y.$options.name?y.$options.name:"Anonymous"}var S={BEFORE_CREATE:"bc",CREATED:"c",BEFORE_MOUNT:"bm",MOUNTED:"m",BEFORE_UPDATE:"bu",UPDATED:"u",BEFORE_UNMOUNT:"bum",UNMOUNTED:"um",DEACTIVATED:"da",ACTIVATED:"a",RENDER_TRIGGERED:"rtg",RENDER_TRACKED:"rtc",ERROR_CAPTURED:"ec"},A={SETUP_FUNCTION:0,RENDER_FUNCTION:1,WATCH_GETTER:2,WATCH_CALLBACK:3,WATCH_CLEANUP:4,NATIVE_EVENT_HANDLER:5,COMPONENT_EVENT_HANDLER:6,VNODE_HOOK:7,DIRECTIVE_HOOK:8,TRANSITION_HOOK:9,APP_ERROR_HANDLER:10,APP_WARN_HANDLER:11,FUNCTION_REF:12,ASYNC_COMPONENT_LOADER:13,SCHEDULER:14},z=(p={},p[S.BEFORE_CREATE]="beforeCreate hook",p[S.CREATED]="created hook",p[S.BEFORE_MOUNT]="beforeMount hook",p[S.MOUNTED]="mounted hook",p[S.BEFORE_UPDATE]="beforeUpdate hook",p[S.UPDATED]="updated",p[S.BEFORE_UNMOUNT]="beforeUnmount hook",p[S.UNMOUNTED]="unmounted hook",p[S.ACTIVATED]="activated hook",p[S.DEACTIVATED]="deactivated hook",p[S.ERROR_CAPTURED]="errorCaptured hook",p[S.RENDER_TRACKED]="renderTracked hook",p[S.RENDER_TRIGGERED]="renderTriggered hook",p[A.SETUP_FUNCTION]="setup function",p[A.RENDER_FUNCTION]="render function",p[A.WATCH_GETTER]="watcher getter",p[A.WATCH_CALLBACK]="watcher callback",p[A.WATCH_CLEANUP]="watcher cleanup function",p[A.NATIVE_EVENT_HANDLER]="native event handler",p[A.COMPONENT_EVENT_HANDLER]="component event handler",p[A.VNODE_HOOK]="vnode hook",p[A.DIRECTIVE_HOOK]="directive hook",p[A.TRANSITION_HOOK]="transition hook",p[A.APP_ERROR_HANDLER]="app errorHandler",p[A.APP_WARN_HANDLER]="app warnHandler",p[A.FUNCTION_REF]="ref function",p[A.ASYNC_COMPONENT_LOADER]="async component loader",p[A.SCHEDULER]="scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/vue-next",p),w={},ee=this;w=function(y,m){var E=y.config.errorHandler,N=function(b,C,F){var J={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},M=m.Event.create(b,!0,J,"vue error handler",1);M.addMetadata("vue",{errorInfo:F,component:C?W(C,!0):void 0,props:C?C.$options.propsData:void 0}),m._notify(M),typeof console<"u"&&typeof console.error=="function"&&console.error(b),typeof E=="function"&&E.call(ee,b,C,F)};y.config.errorHandler=N};var W=function(y,m){if(y.$root===y)return"<Root>";var E=typeof y=="function"&&y.cid!=null?y.options:y._isVue?y.$options||y.constructor.options:y||{},N=E.name||E._componentTag,b=E.__file;if(!N&&b){var C=b.match(/([^/\\]+)\.vue$/);N=C&&C[1]}return(N?"<"+V(N)+">":"<Anonymous>")+(b&&m!==!1?" at "+b:"")},V=w.classify=function(y){return y.replace(/(?:^|[-_])(\w)/g,function(m){return m.toUpperCase()}).replace(/[-_]/g,"")},I={};return I=function(){function y(){var E=typeof window<"u"&&window.Vue;if(this.name="vue",this.lazy=arguments.length===0&&!E,!this.lazy&&(this.Vue=(arguments.length<=0?void 0:arguments[0])||E,!this.Vue))throw new Error("@bugsnag/plugin-vue reference to `Vue` was undefined")}var m=y.prototype;return m.load=function(N){return this.Vue?(w(this.Vue,N),{installVueErrorHandler:function(){return N._logger.warn("installVueErrorHandler() was called unnecessarily")}}):{install:function(b){b||N._logger.error(new Error("@bugsnag/plugin-vue reference to Vue `app` was undefined")),R(b,N)},installVueErrorHandler:function(b){b||N._logger.error(new Error("@bugsnag/plugin-vue reference to `Vue` was undefined")),w(b,N)}}},y}(),I.default=I,I})})(ct);var Ar=ct.exports;const Cr=st(Ar),Dr={},$r=()=>{if(!window.APP.rails.user)return{};const{id:G,email:ce}=window.APP.rails.user;return{user:{id:G,email:ce}}};window.Bugsnag=Rr.start({apiKey:"f0c1fc6c0b1826558016f4f07e921bf8",releaseStage:"production",enabledReleaseStages:["staging","production"],plugins:[new Cr],...$r(),...Dr});
//# sourceMappingURL=bugsnag-39e5957d.js.map
